!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.EDdom=e()}(this,function(){"use strict";function t(t){return"string"==typeof t}function e(t){return n(t)&&"length"in t}function n(t){return null!==t&&"object"===(void 0===t?"undefined":y(t))}function o(t){return null==t}function r(t){return t instanceof HTMLElement}function i(t){var e=h.exec(t);if(!e)return"querySelectorAll";switch(e[1]){case"#":return"getElementById";case".":return"getElementsByClassName"}return"getElementsByTagName"}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n,o,r){var i={};return Object.keys(o).forEach(function(t){i[t]=o[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(t,e,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}function l(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return new(Function.prototype.bind.apply(b,[null].concat(e)))}var f,y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d=function(t,e,n){var o=n.value;n.value=function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.each(function(e){o.call.apply(o,[t,e].concat(n))}),this}},h=/^([#.]?)[\w-]+$/,v=function(n,r){if(t(n)){var c=i(n),p="getElementById"===c;(p||"getElementsByClassName"===c)&&(n=n.replace(/^[#.]/,"")),n=(p?document:r)[c](n)}return o(n)||e(n)?n:[n]},m=Array.prototype,b=(f=function(e){function i(n,c){p(this,i);var u=a(this,e.call(this));return u.selector="",u.context=document.body,o(n)||(u.add(n,u.context),t(n)&&(u.selector=n)),r(c)&&(u.context=c),u}return u(i,e),i.prototype.on=function(t,e,n){t.addEventListener(e,n)},i.prototype.off=function(t,e,n){t.removeEventListener(e,n)},i.prototype.addClass=function(t,e){var n;(n=t.classList).add.apply(n,e.split(" "))},i.prototype.removeClass=function(t,e){var n;(n=t.classList).remove.apply(n,e.split(" "))},i.prototype.toggleClass=function(t,e){t.classList.toggle(e)},i.prototype.wrap=function(t,e){var n=e.cloneNode(!1);t.parentElement.insertBefore(n,t),n.appendChild(t)},i.prototype.hasClass=function(t){return this.some(function(e){return e.classList.contains(t)})},i.prototype.attr=function(t,e){if(n(t)){var r=t;for(var i in r)r.hasOwnProperty(i)&&this.attr(i,r[i])}else{if(1===arguments.length)return this[0]&&this[0].getAttribute(t);var c=o(e)?"removeAttribute":"setAttribute";this.each(function(n){n[c](t,e)})}return this},i.prototype.append=function(t){var e=new i(t);return this.each(function(t){e.each(function(e){t.appendChild(e.cloneNode(!0))})}),this},i.prototype.prepend=function(t){var e=new i(t);return this.each(function(t){var n=t.firstElementChild;e.each(function(e){t.insertBefore(e,n)})}),this},i}(function(){function t(){c(this,t),this.length=0}return t.prototype.add=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,i=v(t,n);return o(i)||m.forEach.call(i,function(t){r(t)&&(e[e.length++]=t)}),this},t.prototype.each=function(t){return m.forEach.call(this,t),this},t.prototype.some=function(t){return m.some.call(this,t)},t}()),s(f.prototype,"on",[d],Object.getOwnPropertyDescriptor(f.prototype,"on"),f.prototype),s(f.prototype,"off",[d],Object.getOwnPropertyDescriptor(f.prototype,"off"),f.prototype),s(f.prototype,"addClass",[d],Object.getOwnPropertyDescriptor(f.prototype,"addClass"),f.prototype),s(f.prototype,"removeClass",[d],Object.getOwnPropertyDescriptor(f.prototype,"removeClass"),f.prototype),s(f.prototype,"toggleClass",[d],Object.getOwnPropertyDescriptor(f.prototype,"toggleClass"),f.prototype),s(f.prototype,"wrap",[d],Object.getOwnPropertyDescriptor(f.prototype,"wrap"),f.prototype),f);return l.create=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Array.isArray(e)&&(n=e,e={}),l(document.createElement(t)).attr(e).append(n)},l.query=v,null==window.$&&(window.$=l),l});